<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Welkom bij de luchthaven</title>

    <!-- Import JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

    <!-- bootstrap js -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- Import Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/modals.css">


    <!-- Datatables -->
    <Link rel="stylesheet" href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.2.3/css/select.dataTables.min.css">
    <script src="https://cdn.datatables.net/select/1.2.3/js/dataTables.select.min.js"></script>
    <script src ="js/flights.js"></script>
    <script src ="js/addAirplane.js"></script>

    <script>
        $(document).ready(function() {

            $("#airplaneForm").on('submit', function(e){
                console.log("Submitted!");
                postForm();
            });

            console.log("Wtf gast");
            $('#airplaneTable').DataTable({
                columns: [
                    {"data": "model"},
                    {"data": "currentFuel"},
                    {"data": "airport"}
                ]
            });

            getAirplanes();

        var table = $('#airplaneTable').DataTable();

        $('#airplaneTable tbody').on( 'click', 'tr', function () {
            if ( $(this).hasClass('selected') ) {
                $(this).removeClass('selected');
            }
            else {
                table.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');
            }
        } );

        $('#delete').click( function () {

            //table.row('.selected').remove().draw( false );
            removeAirplane(table.row('.selected'));
        } );


        });
    </script>

</head>
<body>

    <br>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#airplaneModal">
        Add airplane
    </button>
    <button type="button" class="btn btn-primary" id="delete">
        Delete
    </button>
    <br>
    <table id="airplaneTable" class="table" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Model</th>
                <th>Current Fuel</th>
                <th>Airport</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>

    <div class="container" >
        <div class="modal fade" id="airplaneModal">
            <div class="modal-dialog">
                <div class="modal-content" id="airplaneModalContainer">
                    <row>
                        <h1>Add an airplane</h1>
                    </row>
                    <br>
                    <form class="formcenter" data-toggle="validator" role="form" id="airplaneForm" onsubmit="return false;">
                        <div class="row form-group">
                            <div class="col-25">
                                <div class="control-label" id="modelText"></div>
                                <label for="model">Airplane model:</label>
                            </div>
                            <div class="col-75">
                                <input type="text" class="form-control" id="model" name="modelName" placeholder="Model name" value="" data-error="Please provide a name for the airplane." required>
                                <div class="help-block with-errors"></div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-25">
                                <div class="control-label" id="airportText"></div>
                                <label for="model">Airport:</label>
                            </div>
                            <div class="col-75">
                                <input type="text" class="form-control" id="airport" name="modelName" placeholder="Model name" value="" data-error="Please provide a name for the airport." required>
                                <div class="help-block with-errors"></div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <input id="submitButton" type="submit" value="Add airplane">
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

</body>
</html>